<%- include('partials/header.ejs') %>
<link rel="stylesheet"
    href="https://multivendor1.clientweb.xyz/public/admin/css/select2.min.css" />
<link rel="stylesheet" type="text/css"
    href="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.css" />
<style>
    #attributeDropdownContainer,
    #attValDrpdwnContainer,
    #variantTable {
        display: none;
    }

    .select2.select2-container.select2-container--default {
        width: 100% !important;
    }
</style>
<!-- Begin page -->
<div id="layout-wrapper">
    <!-- Start right Content here -->
    <!-- ============================================================== -->
    <div class="main-content">
        <div class="page-content">
            <div class="container-fluid">
                <!-- start page title -->
                <div class="row">
                    <div class="col-12">
                        <div
                            class="page-title-box d-sm-flex align-items-center justify-content-between">
                            <h4 class="mb-sm-0">Add Staff</h4>

                            <div class="page-title-right">
                                <ol class="breadcrumb m-0">
                                    <li class="breadcrumb-item">
                                        <a href="/admin/dashboard/">
                                            Dashboard</a>
                                    </li>
                                    <li class="breadcrumb-item active">
                                        <a href="/admin/staff/list">Back</a>
                                    </li>

                                </ol>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- end page title -->

                <form id="addStaffForm">
                    <div class="row">
                        <div class="col-lg-12">

                            <div class="card">
                                <div class="tab-content">
                                    <!-- Product Information Tab -->
                                    <div class="tab-pane active" id="staff-Form"
                                        role="tabpanel">
                                        <div class="card-body">
                                            <div class="row p-1">

                                                <div class="col-xxl-5 p-4">
                                                    <div class="row">
                                                        <div
                                                            class="col-lg-12 mb-4">
                                                            <label
                                                                for="username"
                                                                class="form-label fw-semibold mb-2">User
                                                                Name <span
                                                                    class="text-danger">*</span></label>
                                                            <input type="text"
                                                                class="form-control"
                                                                id="username"
                                                                name="username"
                                                                placeholder="Enter User Name"
                                                                required />
                                                        </div>
                                                        <div
                                                            class="col-lg-12 mb-4">
                                                            <label
                                                                for="first_name"
                                                                class="form-label fw-semibold mb-2">First
                                                                Name <span
                                                                    class="text-danger">*</span></label>
                                                            <input type="text"
                                                                class="form-control"
                                                                id="first_name"
                                                                name="first_name"
                                                                placeholder="Enter First Name"
                                                                required />
                                                        </div>
                                                        <div
                                                            class="col-lg-12 mb-4">
                                                            <label
                                                                for="last_name"
                                                                class="form-label fw-semibold mb-2">Last
                                                                Name <span
                                                                    class="text-danger">*</span></label>
                                                            <input type="text"
                                                                class="form-control"
                                                                id="last_name"
                                                                name="last_name"
                                                                placeholder="Enter Last Name"
                                                                required />
                                                        </div>
                                                        <div
                                                            class="col-lg-12 mb-4">
                                                            <label for="email"
                                                                class="form-label fw-semibold mb-2">Email
                                                                <span
                                                                    class="text-danger">*</span></label>
                                                            <input type="email"
                                                                class="form-control"
                                                                id="email"
                                                                name="email"
                                                                placeholder="Enter Email"
                                                                required />
                                                        </div>
                                                        <div
                                                            class="col-lg-12 mb-4">
                                                            <label for="phone"
                                                                class="form-label fw-semibold mb-2">Phone
                                                                <span
                                                                    class="text-danger">*</span></label>
                                                            <input type="tel"
                                                                class="form-control"
                                                                id="phone"
                                                                name="phone"
                                                                placeholder="Enter Phone Number"
                                                                required />
                                                        </div>

                                                        <div
                                                            class="col-lg-12 mb-4">
                                                            <label
                                                                for="password"
                                                                class="form-label fw-semibold mb-2">Password
                                                                <span
                                                                    class="text-danger">*</span></label>
                                                            <input
                                                                type="password"
                                                                class="form-control"
                                                                id="password"
                                                                name="password"
                                                                placeholder="Enter Password"
                                                                required />
                                                        </div>
                                                        <div
                                                            class="col-lg-12 mb-4">
                                                            <label
                                                                for="currentpassword"
                                                                class="form-label fw-semibold mb-2">Confirm
                                                                Password <span
                                                                    class="text-danger">*</span></label>
                                                            <input
                                                                type="password"
                                                                class="form-control"
                                                                id="currentpassword"
                                                                name="currentpassword"
                                                                placeholder="Enter Password Again"
                                                                required />
                                                        </div>
                                                        <div
                                                            class="col-lg-12 mb-4">
                                                            <div
                                                                class="bg-white rounded shadow-md">
                                                                <label
                                                                    for="image-input"
                                                                    class="form-label fw-semibold mb-2 block">Image</label>
                                                                <div
                                                                    class="d-flex align-items-center">
                                                                    <input
                                                                        type="file"
                                                                        id="image-input"
                                                                        name="image"
                                                                        class="form-control block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring focus:ring-indigo-200 focus:border-indigo-300"
                                                                        accept="image/*"
                                                                        required />
                                                                </div>
                                                                <div
                                                                    class="flex-shrink-0 me-2 mt-3">
                                                                    <div>
                                                                        <img id="image-preview"
                                                                            class="avatar-lg border customer-image-elem"
                                                                            src=""
                                                                            alt="Image Preview" />
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>



                                                <div class="col-xxl-7 p-4">
                                                  <div class="accordion my-4" id="accordionExample">
                                                      <div class="accordion-item mb-4">
                                                          <h2 class="accordion-header" id="heading_Order">
                                                              <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="false" aria-controls="collapseOne">
                                                                  Order
                                                              </button>
                                                          </h2>
                                                          <div id="collapseOne" class="accordion-collapse collapse" aria-labelledby="heading_Order" data-bs-parent="#accordionExample">
                                                              <div class="accordion-body p-4">
                                                                  <div class="form-check mb-3">
                                                                      <input class="form-check-input staff-checkbox" type="checkbox" value="" id="flexCheckOrderRead">
                                                                      <label class="form-check-label mx-2 mb-2 text-black" for="flexCheckOrderRead">
                                                                          Read
                                                                      </label>
                                                                  </div>
                                                                  <div class="form-check mb-3">
                                                                      <input class="form-check-input staff-checkbox" type="checkbox" value="" id="flexCheckOrderUpdate">
                                                                      <label class="form-check-label mx-2 mb-2 text-black" for="flexCheckOrderUpdate">
                                                                          Update
                                                                      </label>
                                                                  </div>
                                                                  <div class="form-check mb-3">
                                                                      <input class="form-check-input staff-checkbox" type="checkbox" value="" id="flexCheckOrderCreate">
                                                                      <label class="form-check-label mx-2 mb-2 text-black" for="flexCheckOrderCreate">
                                                                          Create
                                                                      </label>
                                                                  </div>
                                                                  <div class="form-check mb-3">
                                                                      <input class="form-check-input staff-checkbox" type="checkbox" value="" id="flexCheckOrderView">
                                                                      <label class="form-check-label mx-2 mb-2 text-black" for="flexCheckOrderView">
                                                                          View
                                                                      </label>
                                                                  </div>
                                                                  <div class="form-check mb-3">
                                                                      <input class="form-check-input staff-checkbox" type="checkbox" value="" id="flexCheckOrderInvoice">
                                                                      <label class="form-check-label mx-2 mb-2 text-black" for="flexCheckOrderInvoice">
                                                                          Invoice
                                                                      </label>
                                                                  </div>
                                                                  <div class="form-check mb-3">
                                                                      <input class="form-check-input staff-checkbox" type="checkbox" value="" id="flexCheckOrderpayment">
                                                                      <label class="form-check-label mx-2 mb-2 text-black" for="flexCheckOrderpayment">
                                                                          Approve Offline Payment
                                                                      </label>
                                                                  </div>
                                                              </div>
                                                          </div>
                                                      </div>
                                              
                                                      <div class="accordion-item mb-4">
                                                          <h2 class="accordion-header" id="heading_Product">
                                                              <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                                                                  Product
                                                              </button>
                                                          </h2>
                                                          <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="heading_Product" data-bs-parent="#accordionExample">
                                                              <div class="accordion-body p-4">
                                                                  <div class="form-check mb-3">
                                                                      <input class="form-check-input staff-checkbox" type="checkbox" value="" id="flexCheckProductRead">
                                                                      <label class="form-check-label mx-2 mb-2 text-black" for="flexCheckProductRead">
                                                                          Read
                                                                      </label>
                                                                  </div>
                                                                  <div class="form-check mb-3">
                                                                      <input class="form-check-input staff-checkbox" type="checkbox" value="" id="flexCheckProductCreate">
                                                                      <label class="form-check-label mx-2 mb-2 text-black" for="flexCheckProductCreate">
                                                                          Create
                                                                      </label>
                                                                  </div>
                                                                  <div class="form-check mb-3">
                                                                      <input class="form-check-input staff-checkbox" type="checkbox" value="" id="flexCheckProductUpdate">
                                                                      <label class="form-check-label mx-2 mb-2 text-black" for="flexCheckProductUpdate">
                                                                          Update
                                                                      </label>
                                                                  </div>
                                                                  <div class="form-check mb-3">
                                                                      <input class="form-check-input staff-checkbox" type="checkbox" value="" id="flexCheckProductDelete">
                                                                      <label class="form-check-label mx-2 mb-2 text-black" for="flexCheckProductDelete">
                                                                          Delete
                                                                      </label>
                                                                  </div>
                                                                  <div class="form-check mb-3">
                                                                      <input class="form-check-input staff-checkbox" type="checkbox" value="" id="flexCheckProductRestore">
                                                                      <label class="form-check-label mx-2 mb-2 text-black" for="flexCheckProductRestore">
                                                                          Restore
                                                                      </label>
                                                                  </div>
                                                                  <div class="form-check mb-3">
                                                                      <input class="form-check-input staff-checkbox" type="checkbox" value="" id="flexCheckProductClone">
                                                                      <label class="form-check-label mx-2 mb-2 text-black" for="flexCheckProductClone">
                                                                          Clone
                                                                      </label>
                                                                  </div>
                                                              </div>
                                                          </div>
                                                      </div>
                                              
                                                      <div class="accordion-item mb-4">
                                                          <h2 class="accordion-header" id="heading_Color">
                                                              <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                                                                  Color
                                                              </button>
                                                          </h2>
                                                          <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="heading_Color" data-bs-parent="#accordionExample">
                                                              <div class="accordion-body p-4">
                                                                  <div class="form-check mb-3">
                                                                      <input class="form-check-input staff-checkbox" type="checkbox" value="" id="flexCheckColorRead">
                                                                      <label class="form-check-label mx-2 mb-2 text-black" for="flexCheckColorRead">
                                                                          Read
                                                                      </label>
                                                                  </div>
                                                                  <div class="form-check mb-3">
                                                                      <input class="form-check-input staff-checkbox" type="checkbox" value="" id="flexCheckColorUpdate">
                                                                      <label class="form-check-label mx-2 mb-2 text-black" for="flexCheckColorUpdate">
                                                                          Update
                                                                      </label>
                                                                  </div>
                                                                  <div class="form-check mb-3">
                                                                      <input class="form-check-input staff-checkbox" type="checkbox" value="" id="flexCheckColorCreate">
                                                                      <label class="form-check-label mx-2 mb-2 text-black" for="flexCheckColorCreate">
                                                                          Create
                                                                      </label>
                                                                  </div>
                                                                  <div class="form-check mb-3">
                                                                      <input class="form-check-input staff-checkbox" type="checkbox" value="" id="flexCheckColorDelete">
                                                                      <label class="form-check-label mx-2 mb-2 text-black" for="flexCheckColorDelete">
                                                                          Delete
                                                                      </label>
                                                                  </div>
                                                              </div>
                                                          </div>
                                                      </div>
                                                  </div>
                                              </div>
                                              


                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="hstack gap-2 justify-content-end mb-3">
                            <button type="submit" class="btn btn-thm">
                                Add
                            </button>
                        </div>
                </form>
            </div>
            <!-- container-fluid -->
        </div>
        <!-- End Page-content -->
    </div>
    <!-- end main content-->
</div>
<!-- END layout-wrapper -->
<%- include('partials/footer.ejs') %><!-- JAVASCRIPT -->
<script src="/assets/libs/dropzone/dropzone-min.js"></script>
<script
    src="/assets/libs/%40ckeditor/ckeditor5-build-classic/build/ckeditor.js">
</script>
<script src="/assets/js/pages/ecommerce-create-product.init.js"></script>
<script type="text/javascript"
    src="https://cdn.jsdelivr.net/momentjs/latest/moment.min.js"></script>
<script type="text/javascript"
    src="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.min.js">
</script>
<script src="https://multivendor1.clientweb.xyz/public/admin/js/select2.min.js">
</script>
<script type="text/javascript">
    // Select2
    if (jQuery().select2) {
        $(".select2").select2();
    }
</script>


<script>
    $('.accordion-collapse').collapse('hide');

    $("#image-input").on("change", function() {
        var file = this.files[0];
        if (file) {
            var reader = new FileReader();
            reader.onload = function(e) {
                $("#image-preview").attr("src", e.target.result);
            };
            reader.readAsDataURL(file);
        }
    });

    var addform = $("#addStaffForm");
    addform.on("submit", submitFormHandler);

    function submitFormHandler(e) {
        e.preventDefault();

        var formData = new FormData(addform[0]);


        $.ajax({
                type: "POST",
                url: "/admin/staff/add",
                data: formData,
                enctype: "multipart/form-data",
                processData: false,
                contentType: false,
            })
            .done((res) => {
                iziToast.success({
                    title: "Success",
                    message: res.message,
                    position: "topRight",
                });
                setTimeout(function() {
                    location.reload();
                    window.location.href = '/admin/staff/list';
                }, 1000);
            })
            .fail(function(xhr, status, error) {
                iziToast.error({
                    title: "Error",
                    message: xhr.responseText,
                    position: "topRight",
                });
            });
    }
</script>